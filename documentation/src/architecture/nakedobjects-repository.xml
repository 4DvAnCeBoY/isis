<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section SYSTEM "./documentation.dtd">
<section>
  <title>Repository</title>

  <para><class>NakedObjects</class> is a respository for NOF providing a
  central access point for the <class>Configuration</class>,
  <class>NakedObjectsLoader</class>, and <class>ObjectManager</class> objects
  amongst other things. It is a abstract singleton that expects it concrete
  subclass to store these details. There are a number of implementation within
  the NOF, specifically one for client side use
  (<class>NakedObjectsClient)</class>, which is for use in applications where
  there is one of each component and hence no ssharing. The other main
  implementation is for server use (<class>NakedObjectsByThread</class>),
  which keeps the one instance of each component for each thread in
  use.</para>

  <subheading>Using the Repository</subheading>

  <para>To install a repository instantiate an instance, it acts as singleton
  storing a reference to itself. The NOF provides three
  implementations:-</para>

  <list>
    <item2>
      <label><class>org.nakedonbjects.NakedObjectsClient</class></label>

      <para>a single-threaded version that simply store all the component
      references and will return those components regardless of the thread
      that it call with.</para>
    </item2>

    <item2>
      <label><class>org.nakedonbjects.NakedObjectsByThread</class></label>

      <para>a multi-threaded version that stores a unique reference to each
      for each thread in use. This way every thread has it own configuration,
      loader, object manager etc.</para>
    </item2>

    <item2>
      <label><class>org.nakedonbjects.NakedObjectsPipe</class></label>

      <para>a dual context version that provides one context for the server
      thread, and a second context for all other threads. This is used for
      running a client-server configuration in a single memory space, where
      the threads are used to keep the components separate.</para>
    </item2>
  </list>

  <para>To get hold of one of the components held by the repository use the
  static get methods on the <class>NakedObjects</class> class.</para>

  <subheading>Extending the Repository</subheading>

  <para>To create your own repository extend the
  <class>org.nakedobjects.NakedObjects</class> and implement the set methods
  for initialising the references, and the set of methods
  (<method>configuration</method>, <method>currentSession</method>,
  <method>objectLoader</method>, <method>objectManager</method>, and
  <method>specificationLoader</method>) that pass up the component references
  to the static accessors.</para>
</section>