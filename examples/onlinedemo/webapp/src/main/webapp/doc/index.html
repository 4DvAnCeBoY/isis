<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Apache Isis Online Demo</title>

    <style type="text/css">
        body {
            background-color: #1A467B;
            font-family: Verdana, Helvetica, Arial;
            font-size: 90%;
        }
        #wrapper {
            background-color: #ffffff;
            width: 900px;
            margin: 8px auto;
            padding: 12px;
        }
    </style>
  </head>

  <body><div id="wrapper"> <img alt="Isis Logo" src="isis-logo.png" /> <p>This
  is an online demo for <a href="http://incubator.apache.org/isis">Apache
  Isis</a>, a framework to let you rapidly develop domain-driven apps in Java.
  Isis defines a clean programming model, has <acronym>BDD</acronym> and JUnit
  testing support, and provide access to that domain model using various
  presentation technologies.</p><p>In particular, you can use <i>Isis</i> to
  access your app through either a REST API or through a webapp. Both of these
  are generated dynamically at runtime (you code nothing other than the domain
  model).</p><h2>Table of Contents</h2><ul>
      <li>The <a href="#domain-model">domain model</a> of the app (including
      the source code)</li>

      <li>The <a href="#webapp">automatically-generated webapp</a></li>

      <li>The <a href="#rest">REST API</a></li>

      <li><a href="#next-steps">Next Steps</a></li>
    </ul><h2><a name="domain-model">Domain Model</a></h2><p>The domain model
  (diagram generated using <a
  href="http://yuml.me/diagram/class/[ToDoItem|description;dueBy;complete;userName|completed();notYetCompleted();clone()]*-&gt;[Category|description], [ToDoItem], [ToDoItems||toDosForToday();newToDo();allToDos();removeCompleted()]-.-&gt;[ToDoItem]"
  style="width: 400px;">yuml.me</a>) is:</p><img alt="UML Class Diagram"
  src="yuml-me.png" style="size: 50%;" /><p>Pretty much the entire source code
  for this webapp is the above three classes; <b>in particular there is no
  code relating to the presentation layer</b> (webapp or REST API). To gain a
  better idea of <i>Isis</i>' programming model, you can also view the <a
  href="xref/index.html">source code</a> and browse the <a
  href="apidocs/index.html">javadoc</a>. </p><h2><a name="webapp">HTML
  WebApp</a></h2><p>To access the webapp, browse to <a
  href="../htmlviewer">htmlviewer</a>; this redirects in turn to the logon
  page:</p><p><img alt="Logon Page" src="htmlviewer-logon.png"
  style="width: 600px" /></p><p>Click on the register link and choose a user
  name and password (nb: the demo runs under http so don't use a valuable
  password):</p><p><img alt="Register Page" src="htmlviewer-register.png"
  style="width:600px;" /></p><p>Go back to the logon page and log on; you
  should see the home page:</p><p><img alt="Home Page"
  src="htmlviewer-homepage.png" style="width:600px;" /></p><p>At the top of
  the page is a link for the <tt>ToDoItems</tt> repository (shown in the
  domain model diagram above). There is also a <tt>Demo</tt> service; this is
  used to setup a sample set of <tt>ToDoItem</tt>s. Click on this:</p><img
  alt="Demo Service" src="htmlviewer-demo.png" style="width:600px;" /><p>...
  and then click on the <a>Reset Fixtures</a> action link on the left:</p><img
  alt="Reset Fixtures" src="htmlviewer-resetfixtures.png"
  style="width:600px;" /><p>Now click on the link to one of the newly created
  objects:</p><img alt="Object" src="htmlviewer-object.png"
  style="width:600px;" /><p>The webapp is entirely generated from the domain
  object. Compare the app with the source code to see how the metadata is used
  by the framework.</p><h2><a name="rest">REST API</a></h2><p>As well as the
  webapp representation, Isis also represents the domain object model through
  a REST API. The representations returned are in JSON format; with resource
  URLs mapping to objects, properties, collections and actions. In fact the
  REST API implemented by Isis is formally documented as the <a
  href="http://restfulobjects.org">Restful Objects</a> specification. This
  aims to provide a cross-platform standard for exposing domain object models
  via REST. The <i>Isis</i> viewer that implements the spec is called the
  json-viewer.</p><p>(Provided that you access it using an <tt>Accept</tt>
  header of <tt>application/json</tt>, the REST API can be accessed at the <a
  href="/">root</a> of the webapp. For this we recommend that you use a
  browser extension; this will also let you interact with the domain rather
  than merely browse it read-only. A particularly good extension for Chrome is
  <a
  href="https://chrome.google.com/webstore/detail/cokgbflfommojglbmbpenpphppikmonn">REST
  Console</a>, but there are similar extensions for Firefox.</p><p>If you
  want, you can still access the REST API directly from a web browser. Even
  here there are useful extensions; for example the <a>JSONView</a> extension
  for Chrome will render the returned JSON in a color-coded collapsible
  display. One caveat: browse to the <a href="services/">services</a> resource
  instead (because the browser sets an <tt>Accept</tt> header of
  <tt>text/html</tt>, browsing to root will redirect you to this documentation
  instead).</p><p>Whichever way you access the REST API, you'll find that the
  online demo also protects the json-viewer resources using HTTP Basic Auth
  (the mechanism used is pluggable). So the first step is set up security.
  Assuming you are using REST Console, browse to the authorization
  section:</p><img alt="Authorization" src="restconsole-basicauth-1.png"
  style="width:600px;" /><p>Press Basic Auth, and enter username and password.
  (The json-viewer provides no mechanism to register users, so these will need
  to be a user that you've registered using the html-viewer):</p><img
  alt="Username and Password" src="restconsole-basicauth-2.png"
  style="width:600px;" /><p>Next, it's important to set the <i>Accept</i>
  header to <tt>application/json</tt>. It's also correct (though not so
  essential) to set <i>Content-Type</i> to <tt>application/json</tt> also:
  </p><img alt="Accept Header" src="restconsole-accept.png"
  style="width:600px;" /><p>After this has been done, hit "Save Defaults" (so
  that <i>Rest Console</i> remembers these settings for all subsequent
  requests).</p><p>Now, go to the Target section and specify [<a
  href="../">the root of this webapp</a>] as the URL (nb: the screenshot says
  http://localhost:8080, but you should use the actual URL of this
  webapp)</p><p>Submit this link using HTTP GET; the <i>Rest Console</i>
  should scroll to the response:</p><img alt="Response"
  src="restconsole-response.png" style="width:600px;" /><p>The console is
  clever enough to notice links in the response; so if the link indicates a
  method of GET, then it can be followed just by clicking (such as the
  services link, below):</p><img alt="Click Thru"
  src="restconsole-click-thru.png" style="width:600px;" /><p>The response from
  the services link is conceptually equivalent to the home page of the HTML
  viewer. In particular, you should see links representing the
  <tt>ToDoItems</tt> repository and <tt>Demo</tt> service:</p><img
  alt="Services" src="restconsole-services.png"
  style="width:600px;" /><p>Click through to the <tt>Demo</tt> service, and
  from there through to its (representation of the) <tt>resetFixtures()</tt>
  action:</p><img alt="Reset Fixtures" src="restconsole-invoke-link.png"
  style="width:600px;" /><p>In this representation is a link to the action
  invoke subresource. However, unlike other links, this can only be followed
  using a PUT (because the link is <tt>@Idempotent</tt> - it has
  side-effects). Attempting to follow the link with a GET will return a 406
  "Not Acceptable" error.</p><p>However, we can use <i>Rest Console</i> to
  follow the link. Copy the link up to the Target, and then, for the body,
  enter "{}" (taken from the link in the action's representation, and
  indicating no arguments):</p><img alt="Invoke Request"
  src="restconsole-invoke-request.png" style="width:600px;" /><p>Submit this
  request, and the action will be invoked:</p><img alt="Invoke Response"
  src="restconsole-invoke-response.png" style="width:600px;" /><h2><a
  name="next-steps">Next Steps</a></h2><p>If you wish, you can download the
  WAR file <a
  href="https://sites.google.com/a/haywood-associates.co.uk/restfulobjects/files/isis-onlinedemo.war">here</a>.
  It uses an in-memory objectstore, so there is no set up (but note also: any
  data will be lost when you restart the app).</p><p>To use the WAR,
  either:</p><ul>
      <li>deploy in the usual way to a servlet container (eg copy to
      <tt>webapps</tt> directory for Tomcat); or</li>

      <li>because the WAR is self-hosting, simply start from the command line.
      Use: <blockquote>java -jar isis-onlinedemo.war</blockquote>(add --help
      for options)</li>
    </ul><p>The source code can be found in Isis <a
  href="http://svn.apache.org/repos/asf/incubator/isis/trunk">source code</a>
  repository (this app can be found in <i>examples/onlinedemo</i>), and is
  built using Maven.</p><p>If you're interested in exploring <i>Apache
  Isis</i> further, you'll find that it can be used in a variety of ways. The
  main use cases are:</p><p><img alt="Isis Use Cases"
  src="IsisUseCases.png" /></p><p>For further information, please see the <a
  href="http://incubator.apache.org/isis">Isis website</a> and subscribe to
  the <a href="mailto:isis-dev-subscribe@incubator.apache.org">isis-dev</a>
  mailing list.</p></div></body>
</html>
