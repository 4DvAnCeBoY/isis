<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Apache Isis Online Demo</title>

    <style type="text/css">
        body {
            background-color: #994422;
            font-family: Verdana, Helvetica, Arial;
            font-size: 90%;
        }
        #wrapper {
            background-color: #ffffff;
            width: 900px;
            margin: 8px auto;
            padding: 12px;
        }
    </style>
  </head>

  <body><div id="wrapper"> <p>Contents:</p><ul>
      <li><a href="#intro">Introduction</a></li>

      <li><a href="#domain-model">Domain Model</a> (UML and source)</li>

      <li><a href="#webapp">Automatically-generated Webapp</a></li>

      <li><a href="#rest">REST API</a></li>

      <li><a>Next Steps</a></li>
    </ul><h2><a name="intro">Introduction</a></h2><p><i>Apache Isis</i> is a
  framework to let you rapidly develop domain-driven apps in Java. It defines
  a clean programming model, has <acronym>BDD</acronym> and JUnit testing
  support, and can dynamically (at runtime) generate a representation of that
  domain model using various presentation technologies.</p><p>You can use
  <i>Apache Isis</i> in a variety of ways:</p><p><img alt="Isis Use Cases"
  src="IsisUseCases.png" /></p><p>This online demo shows a simple domain model
  deployed as both a RESTful webservice and a webapp (using Isis' HTML
  viewer).</p><h2><a name="domain-model">Domain Model</a></h2><p>The domain
  model (diagram generated using <a
  href="http://yuml.me/diagram/class/[ToDoItem|description;dueBy;complete;userName|completed();notYetCompleted();clone()]*-&gt;[Category|description], [ToDoItem], [ToDoItems||toDosForToday();newToDo();allToDos();removeCompleted()]-.-&gt;[ToDoItem]"
  style="width: 400px;">yuml.me</a>) is:</p><img alt="UML Class Diagram"
  src="yuml-me.png" style="size: 50%;" /><p>To gain a better idea of
  <i>Isis</i>' programming model, you can also view the <a
  href="xref/index.html">source code</a> and browse the <a
  href="apidocs/index.html">javadoc</a>.</p><h2><a name="webapp">HTML
  WebApp</a></h2><p>To access the webapp, browse to <a
  href="../htmlviewer">htmlviewer</a>, which will redirect in turn to the
  logon page:</p><p><img alt="Logon Page" src="htmlviewer-logon.png"
  style="width: 600px" /></p><p>Click on the register link and choose a user
  name and password (nb: the demo runs under http so don't use a valuable
  password):</p><p><img alt="Register Page" src="htmlviewer-register.png"
  style="width:600px;" /></p><p>Go back to the logon page and log on; you
  should see the home page:</p><p><img alt="Home Page"
  src="htmlviewer-homepage.png" style="width:600px;" /></p><p>At the top of
  the page is a link for the <tt>ToDoItems</tt> repository (shown in the
  domain model diagram above). There is also a <tt>Demo</tt> service; this is
  used to setup a sample set of <tt>ToDoItem</tt>s. Click on this:</p><img
  alt="Demo Service" src="htmlviewer-demo.png" style="width:600px;" /><p>...
  and then click on the <a>Reset Fixtures</a> action link on the left:</p><img
  alt="Reset Fixtures" src="htmlviewer-resetfixtures.png"
  style="width:600px;" /><p>Now click on the link to one of the newly created
  objects:</p><img alt="Object" src="htmlviewer-object.png"
  style="width:600px;" /><p>The webapp is entirely generated from the domain
  object. Compare the app with the source code to see how the metadata is used
  by the framework.</p><h2><a name="rest">REST API</a></h2><p>As well as the
  webapp representation, Isis also represents the domain object model through
  a REST API. The representations returned are in JSON format; with resource
  URLs mapping to objects, properties, collections and actions. In fact the
  REST API implemented by Isis is formally documented as the <a
  href="http://restfulobjects.org">Restful Objects</a> specification. This
  aims to provide a cross-platform standard for exposing domain object models
  via REST. The Isis viewer that implements the spec is called the
  json-viewer.</p><p>The REST API can be accessed at the <a>root</a> of the
  webapp, which returns the homePage representation (as defined by the Restful
  Objects spec). However, the online demo has a simple security mechanism in
  place: an HTTP header called <tt>isis.user</tt> is expected to be set. If
  this header is missing, then a 401 (unauthorized) response is
  returned.</p><p>A good way to use the RESTful API is to use a plugin to
  Firefox or Chrome. A particularly good one is <a
  href="https://chrome.google.com/webstore/detail/cokgbflfommojglbmbpenpphppikmonn">REST
  Console</a>, which makes it easy both to submit requests and to browse the
  response.</p><p>First, set up some defaults. The custom headers should be
  set to specify the <tt>isis.user</tt> header (and <tt>isis.roles</tt> too,
  if desired):</p><img alt="Custom Headers" src="restconsole-headers.png"
  style="width:600px;" /><p>In addition, it's important to set the
  <i>Accept</i> header to <tt>application/json</tt>. It's also correct (though
  not so essential) to set <i>Content-Type</i> to <tt>application/json</tt>
  also: </p><img alt="Accept Header" src="restconsole-accept.png"
  style="width:600px;" /><p>After this has been done, hit "Save Defaults" (so
  that <i>Rest Console</i> remembers these settings for all subsequent
  requests).</p><p>Now, go to the Target section and specify [<a
  href="../">the root of this webapp</a>] as the URL (nb: the screenshot says
  http://localhost:8080, but you should use the actual URL of this
  webapp)</p><p>Submit this link using HTTP GET; the <i>Rest Console</i>
  should scroll to the response:</p><img alt="Response"
  src="restconsole-response.png" style="width:600px;" /><p>The console is
  clever enough to notice links in the response; so if the link indicates a
  method of GET, then it can be followed just by clicking (such as the
  services link, below):</p><img alt="Click Thru"
  src="restconsole-click-thru.png" style="width:600px;" /><p>The response from
  the services link is conceptually equivalent to the home page of the HTML
  viewer. In particular, you should see links representing the
  <tt>ToDoItems</tt> repository and <tt>Demo</tt> service:</p><img
  alt="Services" src="restconsole-services.png"
  style="width:600px;" /><p>Click through to the <tt>Demo</tt> service, and
  from there through to its (representation of the) <tt>resetFixtures()</tt>
  action:</p><img alt="Reset Fixtures" src="restconsole-invoke-link.png"
  style="width:600px;" /><p>In this representation is a link to the action
  invoke subresource. However, unlike other links, this can only be followed
  using a PUT (because the link is <tt>@Idempotent</tt> - it has
  side-effects). Attempting to follow the link with a GET will return a 406
  "Not Acceptable" error.</p><p>However, we can use <i>Rest Console</i> to
  follow the link. Copy the link up to the Target, and then, for the body,
  enter "{}" (taken from the link in the action's representation, and
  indicating no arguments):</p><img alt="Invoke Request"
  src="restconsole-invoke-request.png" style="width:600px;" /><p>Submit this
  request, and the action will be invoked:</p><img alt="Invoke Response"
  src="restconsole-invoke-response.png" style="width:600px;" /><p></p><p></p>
  </div></body>
</html>
