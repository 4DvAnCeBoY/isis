<?xml version="1.0"?>
<!DOCTYPE project [
	<!ENTITY xxdistribution SYSTEM "file:../build-templates/distribution-build.xml">
]>

<project name="Naked Objects framework - upload to server" default="upload" basedir=".">

	<target name="upload">
		<property file="version.properties"/>
		<property file="build.number.properties"/>
		<property file="upload.properties"/>
		<property file="common.properties"/>
		
		<echo>Uploading distributions</echo>
		<echo>Version ${build.version}, build ${build.number}</echo>

		<fileset dir="${release.dir}" id="released-files">
			<include name="nakedobjects-${build.version}-${build.number}-java.zip" />
			<include name="nakedobjects-${build.version}-${build.number}-dotnet.zip" />
		</fileset>

		<ftp action="mkdir" remotedir="test" password="${password}" server="${server}" userid="${userid}" verbose="yes">
			<fileset><include name="*.*"/></fileset>
		</ftp>

		<ftp password="${password}" server="${server}" userid="${userid}" remotedir="." verbose="yes" binary="no" passive="yes">
			<fileset refid="released-files"/>
		</ftp>

		<!--copy todir="${release2.dir}">
			<fileset refid="released-files"/>
		</copy-->
	
	</target>
</project>